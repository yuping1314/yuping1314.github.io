<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yuping1314.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="¶ Python 基于BS4————爬虫 uuid: 6ae1d2c0-9d2b-ae1d-7ee4-06a6e2d51346 uuid: 6dbe1d1e-bb31-a210-e7c7-c00dd4e40142 uuid: b46a3f70-c8e3-9998-072b-6daec9f41b93 uuid: 31a0685c-660b-8a8f-c53a-584dfbcd28c9 uuid: 4">
<meta property="og:type" content="article">
<meta property="og:title" content="小田技术博客">
<meta property="og:url" content="https://yuping1314.github.io/2021/09/12/Python%20%E5%9F%BA%E4%BA%8EBS4%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E7%88%AC%E8%99%AB/index.html">
<meta property="og:site_name" content="小田技术博客">
<meta property="og:description" content="¶ Python 基于BS4————爬虫 uuid: 6ae1d2c0-9d2b-ae1d-7ee4-06a6e2d51346 uuid: 6dbe1d1e-bb31-a210-e7c7-c00dd4e40142 uuid: b46a3f70-c8e3-9998-072b-6daec9f41b93 uuid: 31a0685c-660b-8a8f-c53a-584dfbcd28c9 uuid: 4">
<meta property="og:locale">
<meta property="og:image" content="c:%5CUsers%5CAdministrator%5CDesktop%5CPython%E7%AC%94%E8%AE%B0%5C%E5%9B%BE%E7%89%87%5C%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%5CbeautefulSoup%E9%80%89%E6%8B%A9%E5%99%A8.png">
<meta property="og:image" content="c:%5CUsers%5CAdministrator%5CDesktop%5CPython%E7%AC%94%E8%AE%B0%5C%E5%9B%BE%E7%89%87%5C%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%5C%E5%B1%9E%E6%80%A7%E7%9A%84%E8%8E%B7%E5%8F%96.png">
<meta property="og:image" content="c:%5CUsers%5CAdministrator%5CDesktop%5Cuser.png">
<meta property="og:image" content="c:%5CUsers%5CAdministrator%5CDesktop%5Cnew.png">
<meta property="og:image" content="c:%5CUsers%5CAdministrator%5CDesktop%5C%E4%BB%A3%E7%90%86.jpg">
<meta property="article:published_time" content="2021-09-12T14:14:02.930Z">
<meta property="article:modified_time" content="2021-09-12T14:41:50.930Z">
<meta property="article:author" content="田裕平">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="c:%5CUsers%5CAdministrator%5CDesktop%5CPython%E7%AC%94%E8%AE%B0%5C%E5%9B%BE%E7%89%87%5C%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%5CbeautefulSoup%E9%80%89%E6%8B%A9%E5%99%A8.png">

<link rel="canonical" href="https://yuping1314.github.io/2021/09/12/Python%20%E5%9F%BA%E4%BA%8EBS4%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E7%88%AC%E8%99%AB/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh'
  };
</script>

  <title> | 小田技术博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="تشغيل شريط التصفح">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">小田技术博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>الأرشيفات</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh">
    <link itemprop="mainEntityOfPage" href="https://yuping1314.github.io/2021/09/12/Python%20%E5%9F%BA%E4%BA%8EBS4%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E7%88%AC%E8%99%AB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="田裕平">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小田技术博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">نُشر في</span>
              

              <time title="أُنشأ: 2021-09-12 22:14:02 / عُدل: 22:41:50" itemprop="dateCreated datePublished" datetime="2021-09-12T22:14:02+08:00">2021-09-12</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="Python 基于BS4————爬虫"><a class="header-anchor" href="#Python 基于BS4————爬虫">¶</a> Python 基于BS4————爬虫</h2>
<p>uuid: 6ae1d2c0-9d2b-ae1d-7ee4-06a6e2d51346<br>
uuid: 6dbe1d1e-bb31-a210-e7c7-c00dd4e40142<br>
uuid: b46a3f70-c8e3-9998-072b-6daec9f41b93<br>
uuid: 31a0685c-660b-8a8f-c53a-584dfbcd28c9<br>
uuid: 4066c822-7f45-77d4-4ed7-9a72ac901648<br>
uuid: 33fa1bea-b512-e738-6b5c-94ac7702ae65<br>
uuid: c549a607-1eaa-6330-71cf-e1e32648e5c2<br>
uuid: dddadb10-989f-23ed-9090-e7c8b23472bd<br>
uuid: ac955b17-39d0-64ca-db7f-0c0d710d835e<br>
uuid: 72765d96-0563-43cf-be20-2af486fde815<br>
uuid: 05fe42bc-6b25-1dd3-5c7b-063818bd9c62<br>
uuid: 16636afa-d134-f7ff-228c-c4b1d3911444<br>
uuid: 31c9ed77-761b-abe3-1c68-266512098c17<br>
uuid: 38b2fb3c-788b-b3d6-84d8-d46c4b4f41cf<br>
uuid: c96ef105-298d-bf5b-71ab-df52784c56db<br>
uuid: 40e499ab-3754-181c-f2d1-9afd6a5f4b3b<br>
uuid: d64e3221-ef53-8629-ca2b-af6c83c533b1<br>
uuid: b31ca85b-cb1b-9f89-1f5d-cf4b2ab5c197<br>
uuid: eaee2cc9-1cc6-8456-a721-2c1e935785cd<br>
uuid: 4f0d99d7-389c-52b0-46f7-1656f0a2dbf1<br>
uuid: 06d2d50a-28ca-125d-2431-0a25501d03d7<br>
uuid: 5c5c8687-fa0b-6f83-6d1f-5684e3d4892e<br>
uuid: 8838b319-9b3e-36b9-5800-7501ac67d6d9<br>
uuid: f534e4f3-fb94-b07d-5099-758995e08782<br>
uuid: fbabb3a1-43e2-14e1-c489-e5df5b30a7d5<br>
uuid: 42c41db2-19b4-d6f8-5667-cbefe24871e0<br>
uuid: 99086f2b-e13c-c9b9-3e12-5fc58e61cf51<br>
uuid: 7b48ed6a-23ac-94b1-a04d-916fbe5a3fb9<br>
uuid: 84a44c9f-db0c-9db0-ff97-ba9a294a6922<br>
uuid: 2a1ab43b-0f93-dcf9-adca-d8623eb2f3b0<br>
uuid: 86f9509b-1d9e-7dae-c389-a1e1eaaa4e97<br>
uuid: bfe19f36-faa4-4c07-9407-cd1cb1ab7893<br>
uuid: 3ac4e6c6-0be0-0d70-aa35-70d5666f3c7a<br>
uuid: 87371eb8-5348-3f82-96ae-26fb6cdf00e8<br>
uuid: 037c8b4f-8b44-78d7-3f4d-26e36884e97f<br>
uuid: cd60d943-dd2d-4905-c89b-821e7cffec58<br>
uuid: 2d142c03-15f8-6475-b72a-33cc05bf706e<br>
uuid: 224b72cd-5607-85e9-0d6f-76855a30186d<br>
uuid: 81b42603-df53-add9-a458-b97c33b1ca84<br>
uuid: 022e5820-b666-4c70-3c9a-b7bcd34eda1e<br>
uuid: 262f3854-3c3a-79d5-e81c-fe7d7493f218<br>
uuid: 32148db4-5a46-3434-22c4-a00668afd434<br>
uuid: d3bf53c5-7489-60b8-ed5d-0fca877c9b20<br>
uuid: 6c51d474-9655-0097-f83c-b8a13e153ea0<br>
uuid: 8cc129e2-e114-a185-ec81-d5006ea9e804<br>
uuid: 5494e65e-4e8b-7edd-0591-c2444e02b164<br>
uuid: 207197bb-226c-3c9e-10cb-705b3bb2758c<br>
uuid: f8896dff-da4b-e8da-8679-5bc465089204<br>
uuid: 78aee4ee-e6c0-d18f-b4df-3cfa4c0a1432<br>
uuid: 4da3a083-e07f-157f-ccc6-70290e369cde<br>
uuid: 6435357b-d84f-2a74-e7cd-cec817d9bfbe<br>
uuid: dbe3d6fd-0298-1c0f-65b9-5334ee9f9ebf<br>
uuid: 517ad63c-f09c-2b9c-5bd4-58043490ee4a<br>
uuid: a8ee1945-3abf-882d-0f2a-cb3424d7942e<br>
uuid: 0167e738-2e31-8bf8-6fb0-047ea1d9de31<br>
uuid: c67fca29-8a55-a058-ec58-1f9d722c1834<br>
uuid: 8976f27d-b47a-ea6f-f7cd-b8dfc9537e01<br>
uuid: 5b053eba-9c28-abe2-ca10-a5a36c6a89fb<br>
uuid: 8ad0420b-d211-b31d-7929-aad4f67d9847<br>
uuid: 65bfffc8-f6e9-f0b1-75c9-452e7cece59e<br>
uuid: 07495d3e-2330-5bab-9091-3c9b11c86b35<br>
uuid: 165ffbd9-8b7e-6138-f802-bb8f3d7ae5c7<br>
uuid: 3cac692e-937d-45fb-7044-482413a59dc4<br>
uuid: 59bf027f-75bf-ffe5-a618-3e33f750e63b<br>
uuid: 5d7017ab-6613-4e6d-7914-694b53a47138<br>
uuid: dc34e07b-7587-8a60-005a-6aa54f367bae<br>
uuid: 7b866a09-cd30-abda-78d8-807f49013fa6<br>
uuid: 92bba635-2cef-daa6-efb7-0e22a2e9ad11<br>
uuid: abb2aa38-7037-165c-692e-2595076cb538<br>
uuid: 3e91ec4a-4276-264d-ad14-d036a2a4b627<br>
uuid: 8b7f2819-b8e1-a54c-7609-95753f329a05<br>
uuid: ad9df71a-0119-01bb-e93d-458f5e333b45<br>
uuid: 379e44b6-4a25-2e13-be9f-a294def5e242<br>
uuid: cbd56c7d-97a9-3ed1-972c-07c9d62bd987<br>
uuid: f78dc7b7-3389-e9ad-f8cf-da5d50ef1170<br>
uuid: bc6f21b1-7d51-4bf3-0189-6043b7f06800<br>
uuid: 483c5e32-5e08-3a9b-484b-115b3c7c2dc4<br>
uuid: 5c5e9082-2dcb-4d81-25c5-dcfe661a2d43<br>
uuid: 0bfe669a-7c80-1de3-4e75-37cf929c0498<br>
uuid: a6b215ef-0263-922f-88ae-175d5e2dba5d<br>
uuid: e50c6f2f-e2d3-1f3d-fe1d-10bc78748bd3<br>
uuid: 188bbc74-b356-208c-1a65-a2e5cf1f35d5<br>
uuid: 42e2f657-4e89-a5b7-e80d-8da6e48fa669<br>
uuid: 0b0671b3-687d-9827-1800-89cf7184044f<br>
uuid: b3ecaec2-cc6f-6f00-263e-c584bc2dcdcb<br>
uuid: 1445aea3-e8e3-19ba-3bff-484101b268bc<br>
uuid: 24ab1171-e828-bf53-c299-7688d22368e0<br>
uuid: e06626bf-b516-c69c-df87-2c8f82608dc3<br>
uuid: 2ce694c2-60c0-521b-bf03-699d8007e856<br>
uuid: 52382ca3-bbbb-a757-fd80-c115916ea4f5<br>
uuid: e55017f1-576d-d9b1-6452-0c51db6e7974<br>
uuid: be5fbf01-37cf-0a98-1f8c-7411e86680de<br>
uuid: 7161065c-b72c-b2ed-87a4-c2405e3ed850<br>
uuid: 2be4247b-a861-c190-2941-730298dfad37<br>
uuid: a15659c3-96e0-68e3-2213-355c1de50ad2<br>
uuid: e5c3b318-81b4-a65e-cffa-6506182f5472<br>
uuid: d26cbfc1-7055-c419-7c10-5fad5bcd5df4<br>
uuid: fe66263a-ab0d-79d9-0c67-b9201758dacb<br>
uuid: 535c5b20-63ef-f7d0-9ab0-32e41414da23<br>
uuid: dd3e372c-1efe-acb7-3b1e-37c33979631f<br>
uuid: 0311258e-272d-1c35-3c99-0c231c15c585<br>
uuid: e2658cab-47ba-cb88-a296-013175bdde6b<br>
uuid: c0519539-d5bf-8b7b-16b3-4b25e608130f<br>
uuid: 9ef0f674-49bb-2a83-6626-3af40810dd6a<br>
uuid: 5c70019d-6930-1697-cab2-a0326cbcc834<br>
uuid: 9a2e188d-ae28-4c93-3d3f-d34463eff594<br>
uuid: 9c9bd2db-1005-d52b-9807-1ebee2868f31<br>
uuid: 52f814ca-87c3-15c1-f6de-ed205ae481f0<br>
uuid: f726e2c4-0a58-7580-a26f-b380361a08ed<br>
uuid: 6d9ae75e-ca3d-eea5-ffa3-2cf0d08eef82<br>
uuid: 637af56e-06bd-cd22-be18-40fd4cc325c1<br>
uuid: 373b46f1-569b-b779-acbf-f07b1f2acebc<br>
uuid: 992f732e-3c34-43ec-80d7-554b70631fda<br>
uuid: 6312abf5-c724-2f07-4250-68bb08bf06c5<br>
uuid: bc0bbc85-cb51-9d7d-dc55-ff8fdbfcdb14<br>
uuid: 7cd98b30-fef6-f8ea-bdd7-371b2e3b3ee3<br>
uuid: 60a4e89f-3d29-e166-b54c-fc129c44fd1e<br>
uuid: 343dac81-7eb4-d3d3-dd51-62f1b85ddaf7<br>
uuid: 27e410ef-92ae-07be-4827-461cd8a4107b<br>
uuid: 76481288-92a4-3a8d-a83e-33c769cbc257<br>
uuid: 26866a59-9f50-b94e-33ba-abae07fbafb1<br>
uuid: 200e0c82-cd50-3b78-d7da-354539e7d85c<br>
uuid: 4e60c916-ed20-2cb6-a9f8-89e04d2b586c<br>
uuid: ada50321-dd8c-4e2a-290c-0480afd8816d<br>
uuid: 9383d735-aa10-80f9-fb24-c06cc3125336<br>
uuid: d6e7fbfa-a5ee-be1b-e04e-465f1e7ac10c<br>
uuid: 68c60071-3731-4a65-7692-404ae3318df5<br>
uuid: c246e8d5-a60e-7761-24dc-6f006ffdeab7<br>
uuid: b0948e82-703b-3d0a-37a0-9a640fb873d9<br>
uuid: 6afc5eae-3fa5-a024-934e-21804821f06c<br>
uuid: f5e0f836-9a06-bb94-5848-56a4bccee08f<br>
uuid: de7ae584-1f64-7d12-2330-62bd013424df<br>
uuid: de5808d2-0170-b134-e969-a6f46a2edc17<br>
uuid: 2660fd95-f026-9a5d-342f-30b7747be1cb<br>
uuid: 46536005-d386-6204-9cdd-77d18b7bbb39<br>
uuid: f18a4a6a-4e7e-73f9-8848-bf2aae01e0c5<br>
uuid: 21eb2d12-a114-15d6-9731-d9f1404518cd<br>
uuid: fc124ec3-118f-2496-6f28-9d3905142683<br>
uuid: fc2e936e-5ed3-fe72-f28e-272866839179<br>
uuid: 49cc2037-e41b-c919-ff67-ad005132c244<br>
uuid: 264500a8-294b-565c-630f-1217551ce8e4<br>
uuid: 6f1a4e34-6efc-6fbb-2fce-8d722d0ff04e<br>
uuid: a3d96a0b-c4e3-5c1f-05e6-321dc5f9a26a<br>
uuid: 35abdbf7-6c1a-129b-d6ca-81c6f338cc3f<br>
uuid: 545c3697-216a-ab53-ec87-27c595f74870<br>
uuid: 39e6992f-2540-8fbb-4c31-ca6b2da53b62<br>
uuid: 58fec47a-172f-86a3-2f76-5bbfe8a4af86<br>
uuid: 230b6f95-bdf3-0259-886e-6102617a9c09<br>
uuid: c7fcf2f7-97d7-a534-ae92-cafff67f2359<br>
uuid: 8648c9a1-1da2-b689-cb97-e9364b486a07<br>
uuid: 396a959e-33e7-0de3-47e9-a5967e2cafd4<br>
uuid: e75a6583-23d9-da15-f888-a08f8202dbfa<br>
uuid: 5d628f9d-c5f2-e748-2496-5ecebc0769a2<br>
uuid: bc4788fe-2e43-0e58-98b8-9788182e468b<br>
uuid: e1b5723d-49f7-5503-4074-25e08d4788e9<br>
uuid: 0cd0af08-b634-cf24-3dbd-02e51c7db7f8<br>
uuid: 83772469-d1fd-4319-a699-12a8db24b5c9<br>
uuid: fb2cdef7-5d81-056b-5aa6-b13bc68c15d3<br>
uuid: c1142dc3-0da9-0e9c-4e29-8ec6a4d6cd01<br>
uuid: baf3d238-ecb1-7b00-51a7-6ac18b4a03f8<br>
uuid: 133cc421-cb8b-b77e-7219-d26989b5d27a<br>
uuid: 46bebfe9-5466-88e7-e6b8-6e6a38e6d56d<br>
uuid: 8a924545-69cc-f075-6b89-6fc45fe7b28c<br>
uuid: 71580ba3-a143-0135-d3c0-f95b37755411<br>
uuid: 1b7d2ede-fd03-20ec-2ad9-f22041349fd3<br>
uuid: aab964a8-0cae-0ed8-3680-93726c461b9a<br>
uuid: 8e7bd587-2431-50af-3be5-3296d99ef08d<br>
uuid: a52ed031-fda4-2552-1f59-fd030bf8335a<br>
uuid: f54d9c46-3c0d-ab98-1f4c-54ca9cf3b711<br>
uuid: 46971a4d-10d0-c673-8e7a-4f5f75945262<br>
uuid: ddf092dc-51b3-3a27-3922-23540ca5a0b9<br>
uuid: 89d2bdc4-7fec-575d-1e29-ce204b66ab6c<br>
uuid: 1818a3a2-c3da-e4db-4abf-1eae2c4910cb<br>
uuid: 0a185cc7-1818-c380-e6d7-e7fb4eab56b3<br>
uuid: c1983f84-5b5c-1d6e-d45a-17433c22562d<br>
uuid: 738a9e67-7135-90e4-9eae-54e4e8205f23<br>
uuid: 64b7aa0c-eb28-ac05-552a-a1d51014fe77<br>
uuid: 58ef64bc-c2cd-2656-7b10-3fd32fbe6a18<br>
uuid: 2fff0887-ecb3-1e53-fbe8-34f9924790d3<br>
uuid: 3b7a9366-3a69-c799-c06b-a795f9be6db1<br>
uuid: b70b387d-292d-e822-b9f2-4bffa4f385c0<br>
uuid: 0a8cd792-5cc3-e474-5e05-c4f9326c886e<br>
uuid: 4c26b244-e2ca-fb78-ebf5-bf187c84e12a<br>
uuid: db837dd2-e6d3-9682-f45e-68ad04367303<br>
uuid: 85acd3ee-48c2-5b11-7fdf-56d834c72a19<br>
uuid: 78b170db-1e40-1f91-e3ae-5a542e889860<br>
uuid: 04af139e-b941-75a8-e958-52c350f2ead1<br>
uuid: 6b0b84eb-b957-0dbd-6905-cdd6d8c6607b<br>
uuid: 0cd67d6e-6a1d-7098-eb3a-c9ab9b75de96<br>
uuid: e1cb3146-c489-35df-b02b-93fb62a59333<br>
uuid: 2578da52-f08a-028e-b8b6-9a0ed9e08484<br>
uuid: 2ab1b6c5-f6da-983c-ba7b-9a0986a67f31<br>
uuid: f2a805c9-150c-e069-8da8-0d2d06981eb7<br>
uuid: 6db8f614-2522-7316-e672-9790eb80f3d3<br>
uuid: 87930849-59d2-c630-d2d3-8c5a19a41aed<br>
uuid: 6ad6ef9b-a422-1eb0-5e7d-ad2a25c320e8<br>
uuid: f27a46ee-a8a0-5877-f38b-0c43c92fd0f7<br>
uuid: d384f273-f4c0-73d4-8616-eeea4a9656f1<br>
uuid: 1b232870-02e9-ee97-f9d5-046c8add53b0<br>
uuid: ccb9fb59-b307-d464-cea3-d19242710f9e<br>
uuid: 3d43af52-0bc6-31bd-b287-4b679f2a8cc3<br>
uuid: da3efaa4-c3c9-814f-c228-f52364a1dcd0<br>
uuid: 35a289de-eabf-6248-dd9b-3f0d5e079bc7<br>
uuid: abd2d391-20c7-ffe3-4fe2-2d759e808297<br>
uuid: 7482b574-a54a-c66a-bf90-0e56da724d94<br>
uuid: fc9c9fb5-28d9-7d50-95be-56dfaaf5732a<br>
uuid: 6aeb9b11-6463-8a41-d2d8-588790e3b94a<br>
uuid: a879dbe7-6aaf-6147-b169-57eb5584a8b1<br>
uuid: 22268efc-7256-97c0-b0f6-fdc22adf086c<br>
uuid: f19cb2ae-82e0-8afc-653a-562fa001dde9<br>
uuid: 9b383fdf-ac78-8139-6d2c-0480caa99268<br>
uuid: 08fa4f9e-3e2f-e653-34f7-cb2e4016c11e<br>
uuid: 26b132fe-a163-4c7d-50b3-5b44e8b24d95<br>
uuid: 56b77eb6-0d26-c5bc-e0ff-d2ffe2350bf1<br>
uuid: 784a4689-78dd-6f09-bb67-3ac2cd4b1513<br>
uuid: bd6909c2-54ea-cc74-3120-13c8992e79da<br>
uuid: 5919f7f9-1864-fa36-7b51-b64d7b308f9d<br>
uuid: f724d0b4-6cfc-53e6-3261-a836ea7461a1<br>
uuid: 2cadb002-9ae3-5e27-382d-b28567e2902b<br>
uuid: f923422c-588b-4ed6-10ac-70ebbcc5d124<br>
uuid: 59bc87b9-af50-e002-7dbd-4bf0bef98c9e<br>
uuid: fc023cca-0ee3-76d7-caa7-bb102ddeb46c<br>
uuid: 5297f157-8ffe-6bc4-e827-0296aedb9284<br>
uuid: 34bc527c-dace-2bba-229e-7e0089268eac<br>
uuid: 9178bafc-57bb-8269-6d46-dce98523e978<br>
uuid: 98c362cf-c1c8-1a44-f8d5-cabb0c4ceaa4<br>
uuid: f6b7a02c-96b7-94cb-d14b-55626a4c3eda<br>
uuid: 6f7238a7-3a48-17d9-365b-973d4b15e5ff<br>
uuid: 19d4f4fb-9b80-2623-a615-51abb804e3e9<br>
uuid: 08f601a9-6d55-e855-834c-be45d0d42fdf<br>
uuid: db05305a-af85-5574-d4f4-92843992704f<br>
uuid: 1a61d6d9-dc7c-0790-0e87-55f159f13091<br>
uuid: dabde0a9-38c7-9c06-67da-27503a88f984<br>
uuid: d68bd8ae-284d-0536-cb65-233172eb3634<br>
uuid: 6896c5e3-a7b0-6dad-141e-b440db4fc7ba<br>
uuid: bedce0a1-6555-3d5e-583d-58dbff05d655<br>
uuid: e62cbc18-c1ed-026b-8dc5-1afdb33a62f3<br>
uuid: 818506b7-26db-d051-0acd-0599b9e95778<br>
uuid: 970f8cfb-4adf-4e7c-826e-0ef80208116b<br>
uuid: 01fa3993-2a0a-9803-27b3-e053eb7debcc<br>
uuid: d46e4701-45b7-c9e4-0e36-5926aa0c96c7<br>
uuid: e56005ec-0774-28ca-29b0-839da1e6db3e</p>
<p>[toc]</p>
<h3 id="1.前期基础准备知识"><a class="header-anchor" href="#1.前期基础准备知识">¶</a> 1.前期基础准备知识</h3>
<ul>
<li>css:层叠样式器，主要用于渲染网页展示内容</li>
<li><strong>选择器</strong></li>
</ul>
<table>
<thead>
<tr>
<th>选择器</th>
<th>用法</th>
</tr>
</thead>
<tbody>
<tr>
<td>通配符选择器</td>
<td>用<code>*</code>引用</td>
</tr>
<tr>
<td>类选择器</td>
<td><code>.</code></td>
</tr>
<tr>
<td>id选择器</td>
<td>每一个id都是唯一的，用#后面跟上id值</td>
</tr>
<tr>
<td>标签选择器</td>
<td>直接写标签名</td>
</tr>
<tr>
<td>父子选择器</td>
<td>前面是标签包含后面标签，如<code>.a&gt;h2</code></td>
</tr>
<tr>
<td>后代选择器</td>
<td>后面标签属于前面标签的孙子，如，<code>.b li</code></td>
</tr>
<tr>
<td>兄弟选择器</td>
<td>属于同一级的标签，如<code>h1 ~ h6</code></td>
</tr>
<tr>
<td>相邻兄弟选择器</td>
<td>两个标签必须是同级上下行位置关系，如，<code>h1+h6</code></td>
</tr>
<tr>
<td>nth-child 选择器</td>
<td>标签只识别同级关系，如，<code>.b &gt; ol&gt;li:nth-child(3)</code>,表示li标签的第三个孩子</td>
</tr>
</tbody>
</table>
<p><strong>在css选择器中如果标签里有类属性又有id属性选择其一，如果既没有类属性又没有id属性，就直接用标签进行定位</strong></p>
<h3 id="2. 需要安装到的库"><a class="header-anchor" href="#2. 需要安装到的库">¶</a> 2. 需要安装到的库</h3>
<table>
<thead>
<tr>
<th>库</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>requests</td>
<td>获取网络连接</td>
</tr>
<tr>
<td>beautifulsoup4</td>
<td>匹配网页源代码</td>
</tr>
<tr>
<td>lxml</td>
<td>解析页面，容错性好速度快</td>
</tr>
<tr>
<td>openpyxl</td>
<td>将获取到的数据持久化保存到excel文件</td>
</tr>
</tbody>
</table>
<ul>
<li>主要用到以上库，后期需要其它三方库的支持直接安装即可安装</li>
</ul>
<h3 id="3. 爬虫步骤"><a class="header-anchor" href="#3. 爬虫步骤">¶</a> 3. 爬虫步骤</h3>
<ul>
<li>
<p>通过网页地址和requests三方库向服务器发送请求，服务器返回一个响应。</p>
<p>常见响应码：</p>
<table>
<thead>
<tr>
<th>响应码</th>
<th>对应状态</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>访问成功</td>
</tr>
<tr>
<td>403</td>
<td>访问的网站将爬虫封了</td>
</tr>
<tr>
<td>404</td>
<td>页面丢失</td>
</tr>
<tr>
<td>500</td>
<td>服务器出问题</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>将返回的页面源代码进行解析成html,用lxml解析</p>
</li>
<li>
<p>通过css选择器进行定位</p>
</li>
</ul>
<p><img src="C:%5CUsers%5CAdministrator%5CDesktop%5CPython%E7%AC%94%E8%AE%B0%5C%E5%9B%BE%E7%89%87%5C%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%5CbeautefulSoup%E9%80%89%E6%8B%A9%E5%99%A8.png" alt=""></p>
<p><img src="C:%5CUsers%5CAdministrator%5CDesktop%5CPython%E7%AC%94%E8%AE%B0%5C%E5%9B%BE%E7%89%87%5C%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%5C%E5%B1%9E%E6%80%A7%E7%9A%84%E8%8E%B7%E5%8F%96.png" alt=""></p>
<ul>
<li>获取数据</li>
<li>存储数据通常存入csv、excel文件</li>
</ul>
<h3 id="4. 通用爬取页面"><a class="header-anchor" href="#4. 通用爬取页面">¶</a> 4. 通用爬取页面</h3>
<p>对于一般页面的爬取不需要太多的技术知识，现在很多网页都有反爬虫机制。可以出现封闭ip地址。因此我们要尽量取隐藏我们的爬虫，把它伪装成和网页获取。</p>
<ul>
<li>
<p>User-Agent:进行伪装成浏览器，浏览器直接可以获取。</p>
<p><img src="C:%5CUsers%5CAdministrator%5CDesktop%5Cuser.png" alt=""></p>
</li>
<li>
<p>Cookie:里面存储用户的一些数据通常包括账户、密码</p>
</li>
</ul>
<p>下面以爬取通过爬取中国新文网进行展开讲解</p>
<ul>
<li>导入包和建立链接</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re <span class="comment"># 用于正则式匹配</span></span><br><span class="line"><span class="keyword">import</span> csv <span class="comment"># 写入csv文件</span></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup <span class="comment"># 解析页面</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 建立连接的网站</span></span><br><span class="line"> url = <span class="string">f&#x27;https://www.chinanews.com/scroll-news/news1.html?qq-pf-to=pcqq.group&#x27;</span></span><br><span class="line"><span class="comment"># 设置请求头伪装爬虫</span></span><br><span class="line">headers = &#123;<span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27; Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过requests库建立与服务器的连接</span></span><br><span class="line">resp = requests.get(url=ulr, headres=headres) </span><br><span class="line"><span class="comment"># 打印状态码，查看是否成功建立连接</span></span><br><span class="line"><span class="built_in">print</span>(resp.status_code) <span class="comment"># 返回200 表示建立成功</span></span><br></pre></td></tr></table></figure>
<ul>
<li>获取网页数据</li>
</ul>
<p><img src="C:%5CUsers%5CAdministrator%5CDesktop%5Cnew.png" alt=""></p>
<ul>
<li>
<p>获取网页上的类型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment"># 解决乱码问题</span></span><br><span class="line">resp.encoding = <span class="string">&#x27;utf-8&#x27;</span></span><br><span class="line">soup = BeautifulSoup(resp.text, <span class="string">&#x27;lxml&#x27;</span>) <span class="comment"># 把返回的字符串解析成html页面</span></span><br><span class="line"><span class="comment"># 通过css选择器进行定位</span></span><br><span class="line"><span class="comment"># 获取新闻类型</span></span><br><span class="line">sort_list = soup.select(<span class="string">&#x27;div.content_list &gt; ul &gt; li&gt; div.dd_lm &gt; a&#x27;</span>)  <span class="comment"># 返回一个列表，里面每一的元素为bs4.BeautifulSoup对象</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>获取标题</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">title_list = soup.select(<span class="string">&#x27;div.content_list &gt; ul &gt; li&gt; div.dd_bt &gt; a&#x27;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>获取发布时间</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">href_list = soup.select(<span class="string">&#x27;div.content_list &gt; ul &gt; li&gt; div.dd_bt &gt; a&#x27;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>获取新闻连接</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">href_list = soup.select(<span class="string">&#x27;div.content_list &gt; ul &gt; li&gt; div.dd_time&gt; a&#x27;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>保存数据</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;new.csv&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>, newline=<span class="string">&#x27;&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    writer = csv.writer(file)  <span class="comment"># 将数据写入csv文件</span></span><br></pre></td></tr></table></figure>
<p><strong>完整代码</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;new.csv&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>, newline=<span class="string">&#x27;&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    writer = csv.writer(file)</span><br><span class="line">    writer.writerow([<span class="string">&#x27;类型&#x27;</span>, <span class="string">&#x27;标题&#x27;</span>, <span class="string">&#x27;链接&#x27;</span>, <span class="string">&#x27;发布时间&#x27;</span>])</span><br><span class="line">    <span class="comment"># 对不同页面新闻获取</span></span><br><span class="line">    <span class="keyword">for</span> page <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>):</span><br><span class="line">        url = <span class="string">f&#x27;https://www.chinanews.com/scroll-news/news<span class="subst">&#123;page&#125;</span>.html?qq-pf-to=pcqq.group&#x27;</span></span><br><span class="line">        headers = &#123;<span class="string">&#x27;User-Agent&#x27;</span>: **************************************************<span class="string">&#x27;&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        resp = requests.get(url=url, headers=headers)</span></span><br><span class="line"><span class="string">        # 解决乱码问题</span></span><br><span class="line"><span class="string">        resp.encoding = &#x27;</span>utf-<span class="number">8</span><span class="string">&#x27;</span></span><br><span class="line"><span class="string">        soup = BeautifulSoup(resp.text, &#x27;</span>lxml<span class="string">&#x27;)</span></span><br><span class="line"><span class="string">        # 类型</span></span><br><span class="line"><span class="string">        sort_list = soup.select(&#x27;</span>div.content_list &gt; ul &gt; li&gt; div.dd_lm &gt; a<span class="string">&#x27;)</span></span><br><span class="line"><span class="string">        # 标题</span></span><br><span class="line"><span class="string">        title_list = soup.select(&#x27;</span>div.content_list &gt; ul &gt; li&gt; div.dd_bt &gt; a<span class="string">&#x27;)</span></span><br><span class="line"><span class="string">        # 链接</span></span><br><span class="line"><span class="string">        href_list = soup.select(&#x27;</span>div.content_list &gt; ul &gt; li&gt; div.dd_bt &gt; a<span class="string">&#x27;)</span></span><br><span class="line"><span class="string">        # 发布时间</span></span><br><span class="line"><span class="string">        time_list = soup.select(&#x27;</span>div.content_list &gt; ul &gt; li&gt; div.dd_time<span class="string">&#x27;)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        for sort, title, href, time in zip(sort_list, title_list, href_list, time_list):</span></span><br><span class="line"><span class="string">            if time.text[:4] == &#x27;</span><span class="number">8</span>-<span class="number">17</span><span class="string">&#x27;:  # 只获取今天发生的新闻</span></span><br><span class="line"><span class="string">                href = &#x27;</span>https:<span class="string">&#x27; + href.attrs[&#x27;</span>hre<span class="string">f&#x27;]  # 补全网址</span></span><br><span class="line"><span class="string">                # writer.writerow([sort.text, title.text, href, time.text])</span></span><br><span class="line"><span class="string">                print(sort.text, title.text, href, time.text)</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>
<h3 id="5. 用代理获取网页源代码"><a class="header-anchor" href="#5. 用代理获取网页源代码">¶</a> 5. 用代理获取网页源代码</h3>
<ul>
<li>
<p>代理的好处：伪装自己的ip地址用其它地址帮你进行进行转化</p>
</li>
<li>
<p>代理一般都是需要付费才能够进行获取得到，比较好的如下：</p>
<p><img src="C:%5CUsers%5CAdministrator%5CDesktop%5C%E4%BB%A3%E7%90%86.jpg" alt=""></p>
<p>检测生成的IP地址是否有效</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">此代码为代理IP可用性检测模块，可准确筛选出尚未失效IP</span></span><br><span class="line"><span class="string">注：</span></span><br><span class="line"><span class="string">1.此代码只针对TXT数据格式接口。</span></span><br><span class="line"><span class="string">2.尚未失效IP不一定为爬虫可用IP</span></span><br><span class="line"><span class="string">3.使用时，请调用check_ip(url)，url为TXT数据格式接口地址</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> telnetlib</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> concurrent.futures.thread <span class="keyword">import</span> ThreadPoolExecutor</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 请求接口，匹配出代理IP，多线程检测</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check_ip</span>(<span class="params">url</span>):</span></span><br><span class="line">    real_ip = []</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 检测代理IP是否失效</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">telnet_ip</span>(<span class="params">ip, port</span>):</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            telnetlib.Telnet(ip, port, timeout=<span class="number">1</span>)</span><br><span class="line">            real_ip.append(<span class="string">f&#x27;<span class="subst">&#123;ip&#125;</span>:<span class="subst">&#123;port&#125;</span>&#x27;</span>)</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            resp = requests.get(url)</span><br><span class="line">            <span class="comment"># print(resp.text)</span></span><br><span class="line">            ip_data = re.findall(<span class="string">&#x27;(\d+\.\d+\.\d+\.\d+):(\d+)&#x27;</span>, resp.text)</span><br><span class="line">            <span class="keyword">with</span> ThreadPoolExecutor(max_workers=<span class="number">16</span>) <span class="keyword">as</span> pool:</span><br><span class="line">                <span class="keyword">for</span> ip, port <span class="keyword">in</span> ip_data:</span><br><span class="line">                    pool.submit(telnet_ip, ip, port)</span><br><span class="line">            <span class="keyword">return</span> real_ip</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>配置代理ip地址</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> check_proxies <span class="keyword">import</span> check_ip</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line">URL = <span class="string">&#x27;*******************************&#x27;</span>  <span class="comment"># 购买生成ip代理的网址</span></span><br><span class="line">ip_list = check_ip(URL)</span><br><span class="line"><span class="built_in">print</span>(ip_list)</span><br><span class="line">flag = <span class="literal">True</span></span><br><span class="line"><span class="keyword">while</span> flag:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(ip_list)):</span><br><span class="line">        doubna_url = <span class="string">&#x27;https://movie.douban.com/top250&#x27;</span></span><br><span class="line">        headers = &#123;<span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;*************************&#x27;</span></span><br><span class="line">                                   &#125;</span><br><span class="line">        <span class="comment"># 代理ip</span></span><br><span class="line">        proxy = &#123;</span><br><span class="line">            <span class="string">&#x27;http&#x27;</span>: <span class="string">&#x27;http://&#x27;</span> + ip_list[i],</span><br><span class="line">            <span class="string">&#x27;http&#x27;</span>: <span class="string">&#x27;https://&#x27;</span> + ip_list[i]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            resp = requests.get(url=doubna_url, headers=headers, proxies=proxy, timeout=<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> resp.status_code == <span class="number">200</span>:</span><br><span class="line">                <span class="built_in">print</span>(resp.text)</span><br><span class="line">                flag = <span class="literal">False</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;Erro&#x27;</span>)</span><br></pre></td></tr></table></figure>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.css">
    </div>

    
    
    

      <footer class="post-footer">

        


        
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          المحتويات
        </li>
        <li class="sidebar-nav-overview">
          عام
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Python%20%E5%9F%BA%E4%BA%8EBS4%E2%80%94%E2%80%94%E2%80%94%E2%80%94%E7%88%AC%E8%99%AB"><span class="nav-number">1.</span> <span class="nav-text"> Python 基于BS4————爬虫</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1.%E5%89%8D%E6%9C%9F%E5%9F%BA%E7%A1%80%E5%87%86%E5%A4%87%E7%9F%A5%E8%AF%86"><span class="nav-number">1.1.</span> <span class="nav-text"> 1.前期基础准备知识</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2.%20%E9%9C%80%E8%A6%81%E5%AE%89%E8%A3%85%E5%88%B0%E7%9A%84%E5%BA%93"><span class="nav-number">1.2.</span> <span class="nav-text"> 2. 需要安装到的库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3.%20%E7%88%AC%E8%99%AB%E6%AD%A5%E9%AA%A4"><span class="nav-number">1.3.</span> <span class="nav-text"> 3. 爬虫步骤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4.%20%E9%80%9A%E7%94%A8%E7%88%AC%E5%8F%96%E9%A1%B5%E9%9D%A2"><span class="nav-number">1.4.</span> <span class="nav-text"> 4. 通用爬取页面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5.%20%E7%94%A8%E4%BB%A3%E7%90%86%E8%8E%B7%E5%8F%96%E7%BD%91%E9%A1%B5%E6%BA%90%E4%BB%A3%E7%A0%81"><span class="nav-number">1.5.</span> <span class="nav-text"> 5. 用代理获取网页源代码</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">田裕平</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">1</span>
          <span class="site-state-item-name">المقالات</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">田裕平</span>
</div>
  <div class="powered-by">تطبيق الموقع <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
